

#include <stdio.h>
#include "sys/alt_timestamp.h"
#include "sys/alt_cache.h"
#include "system.h"
#include "nios2.h"

#define HAL_PLATFORM_RESET() NIOS2_WRITE_STATUS(0); NIOS2_WRITE_IENABLE(0); ((void (*) (void)) NIOS2_RESET_ADDR) ()

typedef struct
{
    int last;
    int step_index;
} ima_adpcm_state_t;

static const int step_adjustment[8] =
{
    -1, -1, -1, -1, 2, 4, 6, 8
};

static const int step_size[89] =
{
    7,     8,     9,    10,    11,    12,    13,    14,
    16,    17,    19,    21,    23,    25,    28,    31,
    34,    37,    41,    45,    50,    55,    60,    66,
    73,    80,    88,    97,   107,   118,   130,   143,
    157,   173,   190,   209,   230,   253,   279,   307,
    337,   371,   408,   449,   494,   544,   598,   658,
    724,   796,   876,   963,  1060,  1166,  1282,  1411,
    1552,  1707,  1878,  2066,  2272,  2499,  2749,  3024,
    3327,  3660,  4026,  4428,  4871,  5358,  5894,  6484,
    7132,  7845,  8630,  9493, 10442, 11487, 12635, 13899,
    15289, 16818, 18500, 20350, 22385, 24623, 27086, 29794,
    32767
};

char ima_adpcm_encode(ima_adpcm_state_t *s, short linear)
{
    int e, ss, adpcm, diff, initial_e;

    ss = step_size[s->step_index];
    initial_e = e = linear - s->last;

    diff = ss >> 3;
    adpcm =  (char) 0x00;

    if (e < 0)
    {
        adpcm =  (char) 0x08; e  = -e;
    }

    ss >>= 1;
    if (e >= ss)
    {
        adpcm |= (char) 0x04; e -= ss;
    }

    ss >>= 1;
    if (e >= ss)
    {
        adpcm |= (char) 0x02; e -= ss;
    }

    if (e >= ss)
    {
        adpcm |= (char) 0x01; e -= ss;
    }
    diff = (initial_e < 0) ?  initial_e + e - diff :  initial_e - e + diff;

    s->last = diff + s->last;
    s->step_index += step_adjustment[adpcm & 0x07];

    if (s->step_index < 0)
        s->step_index = 0;
    else if (s->step_index > 88)
            s->step_index = 88;

    return adpcm;
}

int main(void)
{

    ima_adpcm_state_t state;
    state.last = 0;
    state.step_index = 0;


    short x[4500] = {10523, 29965, 23350, 30107, -506, 2565, 9552, 20564, 23851, 23438, 7736, 9958, 3964, 17977, 8673, 18093, 20401, 18857, -1306, 18828, 11776, 19000, 8011, 4462, 19191, 28880, 5461, 13969, 19967, 14830, 28095, 343, 2596, 17056, 7256, 25191, 20178, 28668, 7864, 27862, 1177, 1954, 17774, 24203, 8973, 18635, 29823, 19607, 18971, 19166, 18038, 12989, 9608, 8580, 4281, 7727, 31889, 10575, -472, 6741, 28175, -473, 6987, -1289, 19336, -301, 20448, 3649, 21462, 16220, 27531, 130, 18306, 28256, 30664, 6566, 28872, 21266, -794, -1664, -951, 12513, -976, 31325, 1945, 6285, 16639, 5553, 9436, 124, 30433, 31157, 12460, 26328, 16638, 11502, 14397, 15036, 15117, 13116, 29585, 18298, 2316, 28016, 4879, 23052, 14537, 17537, 31810, 10251, 16718, 5587, 11552, 12660, 12417, 26474, 30137, 16216, 15288, 15275, 4177, 29487, 11325, 23252, 7410, -281, 21648, 13012, 6878, 13421, 9381, 8220, 26220, 6441, 25902, 15922, 17157, 21041, 19005, 29963, 10260, 14345, 31059, 26671, 22785, 30526, 3760, -852, 18843, 297, -2932, 643, 7169, 1275, 23526, 25891, 18616, 8915, 6095, 11259, 30462, 9545, 25456, 159, 21115, -1428, 12429, 4850, 1549, 30682, 4965, 28028, 24455, 2016, 29863, 1702, 31689, 2063, 6275, 30477, 13343, 11713, 18288, 23382, 26497, 9818, 2060, 22914, -1354, 6804, 29927, 30387, 14216, 13922, 14778, 4914, 21469, 6728, 21411, -1927, 13635, 22307, -2117, 8438, -2117, 8565, 15264, 25397, 8164, -724, 11946, 13876, 28431, 8758, 11069, 26550, 77, 8741, 15456, 21289, 7609, 2493, 22258, -111, 27300, -1004, 8229, 16588, 1070, 15836, 5740, 27775, 30362, -3159, 10008, 22750, 14920, 22620, 23073, 22564, 5078, 28293, 9655, 4925, 4025, 3451, 14550, 19911, 15156, 25165, 10892, 12951, 12056, 15108, 12619, 15562, 28512, 18325, 22024, 28384, 14601, 29372, 12011, 24310, 16267, 26391, 17305, -2634, 1729, 28469, 12808, 7723, 3779, 19627, 28194, 17683, 30869, -662, 1655, 8545, 15282, 23936, 19125, 31194, 3523, 14116, 23895, 20902, 20876, 7684, 11227, 17905, -880, 17059, 911, 20736, 30073, 6251, 26974, 25912, 4421, 26982, 192, 15182, 22498, 6120, 25663, 3480, 20715, 1799, -1104, 13596, 3115, -1001, 23527, 14018, 22073, 26739, 5002, 27947, 6707, 16161, 25194, 19399, 988, 27266, 2921, 23349, 11246, -2577, 9446, -2921, 31314, 18562, 27910, 8238, 27754, 24392, 3770, 21309, 8267, 18099, 4731, 16923, 25186, 15242, 24010, 7526, 1888, 26071, 27533, 16200, 8128, 16190, 20055, -2221, 17575, 22942, 26531, 28155, 11913, 30550, 21955, 25624, 21497, 24089, 15589, 2960, 1403, -2741, 22133, 3594, 11735, 14676, 16148, 14820, 1471, 28385, 7220, 20072, 7790, -3136, 23508, 25299, 23150, -870, 8524, 26428, 4795, -865, 14480, 24277, 18747, 19691, 5425, 30039, 16523, 14841, 25395, 9700, 2088, 5919, 18205, 4959, 9109, 22765, 29063, 159, -1408, -2905, 16661, 4009, 30918, 12481, 25027, -455, 29358, 17827, 12408, 28381, 23476, 30417, 24412, 2935, 15010, 3334, 11067, 31455, 9313, 16592, -1577, 6586, 25698, -185, 15499, 25715, 10461, -744, 9059, 26135, 16975, -143, -1412, 20103, 17880, 10549, 14462, 9199, 4434, 25619, 6723, 4060, 8678, 4647, 8847, 22132, 20196, 1442, 26062, 26627, 8474, 8717, 376, 4535, 23641, 23914, 22069, 4091, 29269, 25051, 12740, 15590, 4237, 9315, 14611, 8684, 6643, -2949, 7553, -2780, 6225, 8930, 5274, 20069, 10006, 25781, 20564, 6071, 14582, 16405, 17269, 10939, 17839, 27541, -125, 16441, -3131, 28953, 18111, -2917, 27260, -590, 7548, 9710, 15131, 22756, 29448, 3459, 11939, 30166, -197, 22721, 12849, 30101, 18988, -775, 22261, 28962, 17431, -2102, 30271, 20724, 14360, 12243, 6142, 22449, 10403, 16978, 14329, 14809, 459, 23471, 31076, 24100, 23294, 29604, 1829, 30417, 5280, 25690, 13779, 12712, 136, 31589, 18371, 19040, 20881, 7897, 512, 24693, 16301, 17833, 2403, 16507, 2733, 30065, 10182, 2729, 1851, 10795, 19015, 11077, 330, 18834, 29178, 208, 30371, -1679, 8368, 1713, 22978, -2046, 15852, 24784, 6197, 16807, 12083, 2703, 15505, 18050, 2105, -2994, 30713, 4675, -1199, 7982, 7808, -2943, 20208, 5212, 4133, 28257, -1850, 17885, -2050, 15691, 30497, 18902, 11992, 16438, 6968, 23039, 23990, 3759, 16425, -999, 29184, 10173, 24716, 11744, 21116, 83, -2307, 22971, 30748, 2938, 20587, 28601, 27328, 7531, 21551, 20396, 26974, 31672, 19668, 940, 9953, 5, 8471, 3892, 27938, 4562, 24460, 30695, 9042, 16827, 9046, 15122, 14477, 14548, 4864, 23889, 30018, 8414, 15276, 17507, 2649, 26753, 6412, 6942, 9060, 7941, 12117, 22139, 21598, 9374, 7681, 23723, 30882, 14750, -1973, 15831, 22901, 31700, 26133, 18001, 23719, 26016, 15680, 15245, 14893, 10664, 27808, 9225, 28475, 26773, 13961, 22540, 30467, 16475, 428, 31716, 421, 9487, 17305, 29080, 29544, 809, 1621, 27694, 28078, 14846, 14345, -21, 30840, 20940, 24775, 4050, 1577, 28460, 19985, 29160, 23889, 4320, 23896, 7758, 12679, 1590, -3135, 3645, 6731, 26125, 14020, 23895, 18265, 29321, 29723, -3063, 14357, 27285, 31262, -2945, 25537, 5334, 17306, 6231, 4792, 30868, 28640, 27559, 3289, 19657, 1767, 3097, 12152, 9511, 10182, 27621, 7045, -701, 10975, 28055, 957, 30282, 24723, 11711, 14505, 28828, -583, 17975, 24009, -2448, 23363, 23614, 669, 15057, 12224, 17302, 20876, 20075, 25007, 19623, 21641, 22248, 8033, 14546, 321, 13380, 25689, 8249, 28057, 7411, -1695, 4233, 7658, 5598, 22093, 4122, 19401, 8192, 23045, 6326, 1952, 25542, 31404, 23032, 30691, 2366, -2357, 4205, 21323, 29738, 22089, 14114, 17514, 21518, 6191, 8331, 14488, 24502, 22401, -2543, 1916, 5754, 16941, -2213, 20046, 81, 5240, 16249, 14112, 17719, -796, 1653, 1248, 19082, 29323, 19134, 6690, 30590, 189, 26840, 29601, 239, 21118, 24016, -2233, 27401, 23901, 22969, 31925, 9185, 18438, 27555, 17181, 29663, 25998, 31652, 20012, 5991, 7860, 7697, 11922, 25964, 1058, 26056, 28255, 19866, 21704, 9831, 18867, 29543, 6432, 25829, -3128, 27682, 412, 6569, 18528, -1267, 220, 22673, 13298, 30995, 20356, 4672, 26742, 21, 10227, 6937, 9210, 14014, 5543, 12042, 12795, 29638, 22354, 11917, 13021, 18306, 1659, 22578, 3812, 17833, 22667, 30899, 13383, 6453, 7956, -2699, 22737, 29074, 31872, 24468, 6477, 20808, 25941, 6239, -1035, 3062, 17432, 14214, 29067, 22831, 27154, 23894, 3595, 9870, 26904, 23015, 9934, 11529, 7338, 6168, 3405, 10769, 27153, 25769, 7975, -713, 23487, 23855, 27649, 18102, 14692, 24954, 8370, 23634, 16256, 12114, 28116, 9103, 5445, 6127, 5533, 19698, 4058, -549, 19908, 30226, 11061, -2064, 22492, 13427, 57, 16946, 13900, 7994, 8754, 5499, 13061, 28825, 1463, 2394, 15775, 16979, 3298, 4765, 17049, 5925, 13651, 15333, 5985, 7887, 17855, 13533, 23060, 15414, 30016, 2170, 19386, 20269, 29256, 8843, 2208, 30955, 21053, 18334, 10448, 650, 8775, 1730, 24134, 27515, 10649, 10583, 31428, 13115, 24734, 4362, 20237, 20974, -440, 8871, 11754, 13721, 22597, 16127, 23696, -1192, 9111, 22822, 31892, 28997, 6548, 22406, 28292, 18607, 27263, 27591, 11851, 10177, 11872, 13720, 4275, 1783, 19307, 23940, 1619, 16047, 5016, 16086, 30280, -27, 31374, 21, 99, 29661, 22807, -1992, 16157, 6108, 2912, 26347, 28604, 10000, 29183, 209, 9011, 469, 10915, 30543, 21593, 6794, 11194, 13996, 17908, 29534, -369, 3816, 28722, 9379, 22822, 14186, 31549, 31171, 26795, 27788, 19720, 20356, 13514, 12582, 2593, 25729, 13947, 19828, -2016, 22731, 6603, -1319, 19555, 18923, 24083, 22454, 10473, 17735, 15675, 18113, 21903, -2395, -3066, 3420, 2413, 16200, 3153, 20026, -664, -1593, 23952, 30111, 21380, 25189, 19846, 227, 31381, -1044, 18943, 9854, 2256, 8288, 16569, -1794, 25885, 13980, 24346, 18873, 1244, 23715, 3742, 19099, 31952, 25391, 28730, 11656, 10989, -205, 22196, 17501, 20342, 6532, 7891, 25546, 14575, 673, 2843, 15884, 22536, 31145, 14258, 27171, 18528, 22487, 28072, 24831, 10921, 10350, 29637, 16343, 29768, 11858, 28328, 7685, 31796, 1773, 13792, 3580, 3860, -1838, 30068, 14887, 13367, 22806, 15198, 14001, 27626, 19743, 6078, -1878, 31439, 23289, -2030, 1016, 5832, 10722, 17145, 18980, 15498, 27662, 19140, 11170, 19074, -2029, 21802, 12109, 16055, 26759, 4772, 5982, 24317, -812, 4304, 23264, 22599, 9894, 31171, 12451, 30444, 12357, 9479, 22691, 31633, 12297, 9754, 7551, 19072, 8588, 14209, 9686, -1718, 16306, 30989, 8098, 25089, 29704, 31790, 8503, 3027, 12400, 14317, 31708, 10480, 269, 21382, 11622, -1086, 2149, 9097, 20238, 23856, 13330, 10820, 21582, 31355, 11826, 31403, 22800, 30372, 2517, 22545, 2730, 19336, 5857, 5585, 30297, 2727, 23829, 16937, 10526, 3129, 8751, 19531, 26103, 17069, -1102, 5973, 22898, 12081, 1692, 14879, 24693, 9085, 10216, 1061, 13233, 4757, 688, 11947, 21969, -900, 7693, 9588, 11716, 10002, 20176, 26722, 1600, 10234, 31086, -2507, 389, 19367, 2577, 5637, 666, 9845, 29472, 10740, 9201, 20877, 6740, 15743, 2760, -944, 3118, 31685, 20695, 13629, 6683, 29632, 16148, 17027, 9374, 9895, 14415, 22329, 5188, 18511, 15124, 29319, 27867, 23643, 2855, 16913, 6983, 286, 16765, 27065, 2432, 5832, 6344, 2717, 23611, 14399, 19308, 238, 12108, 24292, 22842, 3329, 3529, 1217, 27574, -836, -2773, 30260, 30371, 3737, -510, 8428, 31136, 26024, 30921, 26925, 11488, 9011, 24092, 11764, 2, 14129, 26204, 29835, 725, 15343, 23241, 3498, 620, 24688, 24706, -1935, 28118, 22947, 31934, 5578, 5839, 15540, 9076, -7, 23660, 28708, 16576, 3470, 16398, 31062, 7453, 8627, -826, 15167, 31590, 5013, 7335, -3086, 10548, 26919, 24617, 9816, 26066, 29412, 8342, 23835, 4778, 26918, 11104, 4900, 24505, 11180, 10558, 9814, 9891, 6486, 4039, 14742, 29494, 13502, 23769, 28384, 8407, 17862, 21058, 30913, 13785, 21979, 4650, 23281, 3780, -604, 31744, 553, -1986, 18259, 1328, 11654, 1216, 15086, 15544, 12204, 23247, 15457, 6525, 13025, 28802, 26137, 30743, 13264, -1969, 14284, 28176, 3883, 25019, 5168, 4687, 13368, 25387, -2125, 27345, -206, 24740, 17908, -2757, 17836, 2150, 27346, 369, 1966, 22143, 22468, 16388, 23117, -2730, 11745, 753, 15841, 2508, 11587, 19658, 20118, 27754, 31329, -1538, 15364, 10517, 20655, 25030, 11619, 29268, 22750, 24537, 29640, 1347, -990, 18570, 10723, 23893, 6281, 10475, 31501, 8774, 31298, 23748, 16509, 4422, 10082, 22900, 28208, -486, 2526, 14664, -1887, -1756, 26114, 710, 22301, 24298, -706, 26854, 12004, 17322, 10468, -2093, 14013, 16969, 20633, 30045, 13181, 8245, 7967, 5832, 1459, 12218, 31650, 15681, 22026, 26598, 12317, 26210, 6291, 20126, 22254, -2768, 18266, 1056, 19661, -2470, 23821, 9736, 16055, 10462, 31182, 8571, 12914, 15554, -2294, 28302, 25862, 19315, 17368, 6124, 2570, 20509, 12964, 23791, 31308, 23272, 26344, 613, 5595, 30974, 30000, 18754, 2696, 30220, 1688, 26234, 167, 18913, 29207, 30493, 28232, -1974, 27083, 20417, 9912, 21812, 16895, 26064, 9203, -874, 28022, 19607, 23251, 2602, 16506, 23171, 14547, 966, 7742, 14079, 26993, 22636, 5992, 7949, 1371, 21539, 4580, 19195, 19897, 23602, 6039, 18555, 11102, 15871, 15061, 9795, -1206, 20906, -553, 12994, 29685, 19940, 22845, 29650, -1572, 963, 18920, 12069, 12978, 24807, 6708, 18960, 19201, 15950, 15381, 7928, 25197, 10983, 4152, -1337, 13347, 12377, 12667, 13398, 28119, 18332, 22396, 2623, 25128, 20246, 21663, 13750, 31164, 2063, 12359, 26334, 19891, 11185, 4799, 24974, 23186, 27902, 12863, 17804, 5801, 13288, 18143, 4281, 15982, 21162, 12392, 12953, 9697, 18813, 15457, 24868, -1757, 11531, 23598, 22127, 3002, 11809, 31555, 7219, 17781, 10296, 24995, 2969, 29587, 443, 19572, 15373, -1526, 16205, 4760, 10933, 23019, 25817, 27201, 15543, 4140, 11671, 8421, 10522, 21539, 14979, 27789, 31646, 6993, 19399, 21430, 21755, 6715, 17794, 5693, 26373, 20586, 31513, 16708, 26576, 14455, 350, 4910, 12885, 23028, 2925, 8969, 12610, 28126, 30744, 16742, 15494, 5458, 5378, 28922, -2055, 6456, 6757, 10330, 22369, 5166, -3137, 16235, 9172, 24620, 24596, -2909, 21478, 8739, 20237, 27409, -2793, 976, 1369, 939, 9604, 31722, 10042, -278, 14986, 15275, 22447, -2123, 3965, 5051, 168, 4594, 20532, 1727, 30590, 785, 5665, 294, 21601, 26886, 4572, 29221, 20002, 15663, 6561, 9100, 27004, 22689, 8810, 11772, 5189, 27297, 6267, 29769, 8545, 21878, 31333, 27923, 17220, 18796, 26602, 23326, 25212, 30707, 12144, 28112, 10119, 2608, 6085, 15405, 20252, 1364, 19735, -353, 31945, -29, 13311, 10725, 2171, -140, 3609, 10740, 26774, 11309, 4279, 16821, 19300, 10806, 7964, 8933, 29075, 21716, 2480, 31272, 22278, 5662, -1062, 13400, 27873, 26951, 13783, 6190, 12228, 6328, 26486, 1276, -1219, 8302, 31386, 16668, -3007, 28726, 24453, 11171, 3720, 28777, 15768, -508, 21498, 3934, 19133, 15560, 6715, 21952, 12404, 29743, 10193, 16674, 10085, 396, 3177, 5665, 25176, 22622, 815, 5511, 27089, 12270, 26453, 27053, 2149, 676, 14685, 21704, 4103, 1999, -899, 4130, 3341, 28784, 21890, -2464, 13235, 24368, 14268, 4207, 22746, 6818, 27111, 3451, 19402, 16550, 18047, 25358, 12240, 518, 23716, 17485, 26460, 21289, 7614, 20452, 15773, 22399, 23557, 1835, 10274, 24571, 5035, -1917, 16142, 587, 27646, -2416, 12350, 10872, 4331, 437, 11450, 1274, 31195, 4251, 7189, 23578, 9036, 4094, 19116, 17923, 3237, 23574, 13838, 13838, 9130, 12984, 17648, 11758, 26225, 16388, 9370, 4580, 4694, 958, 22913, 31811, 14266, -2279, 14810, 19490, 8457, 16790, 30083, 22809, 15320, 15126, 16086, 12109, 2086, 5634, 4611, -1961, 10862, 19698, 31392, 15195, 4123, 28266, 19246, -1254, 27385, 11937, -1170, 25224, 16094, 8203, 2588, 21783, 5881, 24238, 6885, 8684, 3902, 5092, 23739, -389, 21265, 12361, 8856, 30024, -2713, 7277, 23827, 16260, 11409, -1461, 22174, -174, 10964, 19622, 27584, 7391, 7315, 21814, 11324, 13710, 13966, 29564, -1569, 1190, 17866, 23707, 18211, 19169, 10290, 7226, 3194, 10029, 17888, 8579, 12167, 26504, 17891, 26830, 5296, 15755, 21159, 23299, 13583, 4426, 12466, 8404, 26201, 21528, 24833, 16998, -581, 6222, 4700, 15096, 20639, 20222, 6152, 4253, 17331, 12293, -141, 5263, 28726, 25344, 10325, 10003, 24381, -2432, 22774, 25594, -1974, 30712, 25505, -649, 434, 9795, 5244, 10668, 10936, 13480, 30228, 19267, 19662, 17558, 31418, -2021, -1462, 15376, 14481, -2058, 18666, -739, 25932, 23538, 31140, 29319, 1639, 18067, -1179, 9903, 17780, 11360, 2855, 23424, 2634, 9088, 4850, 1784, 22874, 5192, 1701, 16383, 4029, -1716, 27336, 11110, 8786, 5778, 22296, 27272, 15538, 21405, 18498, 20387, 28888, 28664, 23662, 22971, 25978, -942, 23080, 18359, 1089, 30780, 7821, 10013, 31697, 1806, 22333, 13512, 9636, 9979, 14167, 9433, 25963, 13464, 20726, 9171, 21888, 13551, 13778, 3831, 12494, 10256, -2402, 12824, -2594, 11406, 1058, 6415, 17279, 24175, 31517, 17812, 14697, 16875, -2613, 152, 2907, 598, 4456, 7782, 19642, 12924, 2383, 3091, 8483, 22831, 27835, 13178, 10222, -938, 11026, 17940, 11521, 31700, 13425, -1200, 29411, 31505, 29756, 14312, 1772, 303, 923, 5868, 4144, 17635, 532, 18796, -1109, 17442, 7281, 5582, 29474, 23547, 18309, 26949, 23434, 2086, 11476, 19347, 4184, 24981, 15292, 31791, 9731, 5758, 20947, 24366, -1174, 16535, 7013, 14384, 13030, 4630, 16557, 24438, 18456, 6152, 26908, 16902, 19457, 20912, 9323, 19529, 4489, 16023, 1836, 22165, 15134, 14834, 7461, 3149, 26185, 24338, -1328, 26277, 2032, 26759, 13181, 26126, 2373, 9267, 1436, 23009, 4579, 17185, 24235, 17850, 28552, -1521, 3302, 4122, 6482, 16537, 21860, 25300, 20795, 19870, 7893, 4854, 8787, 26113, 5816, 19572, 21843, 15081, 6419, 15592, 29343, 9448, 26627, 26727, 4102, 3038, 5520, 29741, 11109, 16040, 19084, -2292, 15071, 18805, 26928, 23294, 5490, 3397, 14376, 29936, 24796, 27216, 24855, 3621, 22303, 19162, 5247, -388, 6437, 13862, 26660, 16261, 6027, 10339, 30321, 2818, 27045, 20679, 12911, 30903, 27480, 26263, 21711, -590, 29231, 16181, 19185, -1936, 4003, 16797, 4439, 4719, 5677, 31160, 18520, 19361, 13096, 22504, 20910, 13641, 22992, 29703, 23558, 18497, 21084, 14468, -1709, 14332, 10802, 7690, 3588, 14105, 21347, 20896, 20056, 16950, 22781, -230, -121, 19255, 17701, 5160, 25314, -1563, 30302, 23335, 6263, 29528, 14267, 7460, 14955, 20616, -3007, 6803, 58, -3050, -1933, 16723, 27726, 14170, 5541, 31866, 16805, 29165, 20647, -3144, 12897, 9246, 21855, 1917, -162, 7078, 29844, 22098, 7771, 14451, 11237, 25747, 31036, 25744, 3524, 10350, 31345, 28382, 14050, -576, 18305, 11317, 27804, 7846, 12456, 15482, 14490, 10455, -307, 8830, 26663, 4785, 9529, 10040, 26181, 11362, 12962, 13681, -2675, 15814, 25949, 31879, 16737, 16248, -970, 16841, 5690, 21550, 2209, 11642, 31691, 14191, 17555, 4796, 6503, 10172, 28153, 22613, 14935, 4631, 26936, 16952, 8106, 12538, 15359, 8602, 7790, 7207, 2483, 26897, 14516, 8171, 17844, 31056, 10529, 12682, 4034, -2524, 8460, 20086, 3546, 13559, 13270, 13546, 27689, 19553, 949, 28090, 3318, 15938, 19959, 11860, -761, 25918, 27047, 8287, 18501, 26775, 25308, 6805, 25618, 11297, 19323, 19386, 24257, -461, 23841, 9613, 18328, 16779, 16425, 26933, 9223, 14973, 23106, 10106, 22674, 11505, 22572, 3850, 1165, 16339, 19695, 20214, 1799, 18496, 20808, 15608, 14935, 4605, 26859, 20376, 612, 20168, 7856, -2766, -3183, 22796, 25206, 533, 23473, 9690, 16585, 8411, 2562, 11601, 1099, 5421, 28283, 8357, 6865, 24689, 29779, 29799, -2405, 28549, 24402, 3790, 27587, 18678, 27737, 27400, 4093, 4762, 733, 28462, 879, 29615, 24366, 13570, 28159, 2436, -2232, 15046, 12613, 5574, 5347, 9716, 19830, 6844, 13176, 11326, 9088, 5021, 17546, 29903, 14336, 21430, 12847, 3142, 14738, 18087, 16459, -1441, 2447, 14848, 4230, 23459, 29218, 19145, 10132, 5372, 1757, 30773, -495, 9944, 6737, -127, 18724, 872, 14268, 24730, 1872, 15003, 4317, 22615, 22648, 22940, 1265, 20022, 841, 25619, -2956, 15102, 18696, 28585, 4733, -2505, 2622, 19592, 5403, 10993, 4035, 20642, 1526, 15535, 13992, 1657, 4387, 1267, 29509, 18570, 17905, 21958, 23893, 31465, 28502, 30854, 1192, 8116, 6198, -560, 5391, -1131, 31252, 12262, 28974, 14333, 29235, 20925, 3401, 6558, 15386, 25538, -1111, 28004, 126, 1808, 15117, 9023, 2641, -1631, 22766, 15823, 30384, 13262, 18364, 20864, -2435, 14073, 4338, 25777, 14996, 2233, 2686, 996, 18417, 28595, 18913, 7502, 2911, 18254, 13573, 19132, 21012, 10285, 9561, 4361, 15789, 26693, 12228, 7016, 27049, 22460, 10349, 24575, -659, 20616, 20841, 18555, 16443, 4716, -1279, 28865, 24412, 14366, 16878, 29645, -2882, 447, 15820, 11542, 26278, 24905, 12802, 5731, 6206, 5311, 31139, 13903, 31268, -1348, 24221, 14631, 19055, -2168, 19080, 15143, 4293, 1947, 16140, 16808, 11785, 9773, 2157, 17418, 5156, 19906, 20689, 10327, 2772, 10636, 21471, 18487, 6971, 4191, 18658, 8098, 11846, 11225, 19418, 9532, -3062, 17885, 26010, -3034, 11384, 28108, 8550, 17228, 24103, 26345, 1883, 4016, 2275, -1100, -2855, 5637, 2450, 31022, 13621, 6305, 6384, -20, 16348, 5372, 18826, 11902, 16778, 5783, 27202, 19067, 30610, 18042, 9212, 18019, 27319, 8597, 18089, 26034, 4542, 2309, 17658, 416, 4394, 10012, 11842, 26832, 25310, 16469, 4521, 2059, 4788, 2870, 14848, 21315, 111, 16428, 16556, 29972, 17280, 4237, 5780, 3698, 24217, 22629, 27057, 13179, 16407, 1038, 8206, 19142, 24716, 13310, 1776, 23751, 3978, 11194, 25049, -3029, 30795, 25147, 21733, 26051, 28321, 306, 22444, 17318, 5687, -563, 11280, 19041, 14010, 13531, 27846, 23635, 18523, 26637, 22245, 2250, 7615, 5758, 26168, 27525, 24648, 7979, 21861, 31127, -1513, 30988, 1111, 30274, 2129, 10693, 9398, 25451, 28677, -2019, 7619, 12984, 7404, 3707, -1770, 31948, 24105, -624, 17329, 2426, 10110, 27207, 26663, 24577, 271, 12744, 3556, 23705, 28625, 17234, 16104, 3283, 15038, 8967, 11107, -2903, 2320, 19891, 16901, 5949, 22915, -1036, -1570, 10573, 9619, 25819, 8809, 2935, 27760, 6669, -2385, 14436, 15808, 31661, 4877, 4964, 23173, 8560, 25016, 803, 4411, 15054, 15385, 28202, 6980, 12402, 8652, 6508, 24137, 12927, 7958, 14034, 7494, 7636, 2981, 23922, 26192, 942, 18418, 19591, 6376, 22773, 21901, 29319, 26084, 4630, 31432, 22149, -1406, 9937, 29688, 20031, 25794, 16990, 2019, -469, 17860, 23566, 6267, 13588, -1109, 29617, 24836, 22731, 1032, 19857, 295, 19051, 18340, 16978, 18595, 30631, 14130, 29589, 31819, -2291, 19608, 6081, 4980, 26162, 14332, 10491, 19553, 16521, 27511, 23274, 23036, 9992, 2942, 567, 13052, 2614, 26376, 19598, 27296, 23916, 15436, 30786, 31258, 801, 8362, 7066, -1020, 4524, 5667, 23582, 27062, 9636, 4696, 11271, 15080, 5217, 7962, 30161, 16925, 5393, 15365, 7500, 28995, 14542, 3046, 7955, 27883, 22346, -1319, 25515, 31638, 4126, 22215, 19887, -1878, 5121, 28209, -1666, -587, -2479, 11460, 5228, 3537, 26059, 14727, 30675, 5258, 19005, -2854, 16060, 31445, 9336, 8249, 8941, 2359, 13792, -3026, 30973, 6392, 9253, 18711, 10959, 164, 10326, 2663, 31816, 28080, 3283, 10789, 24084, 13790, 4919, 26150, 6519, 31483, 2863, 917, 31870, 14361, 20178, -1763, 10946, 7711, 30454, 25192, 27959, 5430, 30285, 9503, -1430, 26174, 16105, -1135, -2476, 23632, 21501, 24507, 4755, 248, 27104, 15831, 28923, 3559, 29221, -175, 23576, 8860, 18824, 18306, 7050, -827, 31974, 31064, 13948, -1908, 22509, 28193, 31731, 20829, 17776, -1735, 31367, 15921, 7268, 28999, 11927, 20242, 3541, 21918, -648, 10555, 23242, 16572, 25191, 31221, 7872, 31375, 11024, 13954, 17097, 1311, 1068, 6073, 18642, 13244, 5396, -2841, 24977, 30197, 2852, 7986, 5878, 15829, 6124, 9835, 11049, 21672, 13449, 13456, 14501, 1073, -1032, 7429, 26993, 30127, 23651, 15102, 14005, 8775, 772, 27917, 7887, 1431, 14338, -394, 11050, 20258, 28851, 31142, 7321, 6452, 24285, 25824, 28202, 13297, 5161, 30778, 31580, 29525, -770, 9044, 1251, 8647, 13540, 22482, 24872, 19383, 3797, 15272, 22718, 2583, 13901, -349, 17114, 25267, 4367, -2281, 15371, 4969, 1290, 5242, 13910, 21656, 10400, 26183, -3073, 1470, 25465, -3177, 17642, 19470, 10845, 21127, -436, 2618, 5127, 28341, 21653, 13283, -1033, 16386, 12010, 14638, 21791, 6179, 25799, 10281, 5291, 31018, 18899, 22145, 14902, 31867, 29204, 12130, 31568, 1395, 13105, 11764, 23724, 3571, 27787, 13792, 7259, 28366, -121, 5387, 12905, 6086, 13004, 21205, 30524, 17044, -1105, 9508, 18778, 6454, 2608, 6741, 17849, 1786, 12560, 29587, 17861, 14448, 16390, 1629, 18011, 28227, 6892, 11965, 6736, 209, 1218, 15987, 20957, -1742, -2499, 12114, 27066, 17850, 20818, -469, 20308, 29573, 29875, 20295, 8127, 25890, 20712, 3187, 5988, 25382, 29026, 31266, 26812, 5423, 28162, 29587, -2146, 17736, -1379, 17473, 24314, 1403, 21511, 24230, 3946, 28438, 16649, 27624, 8038, -2270, 13122, 27872, 13181, -19, 12391, 13422, 6169, 25005, 24598, 26625, 29648, 28439, 9099, 31768, 18227, 22649, 30014, 13082, 30465, 14797, 21838, 4238, 18521, 3307, 18355, 23452, 7800, 23520, 8056, -2752, 25938, 29795, 12124, 16765, 9957, 28095, 24062, -72, 17161, 29451, 28088, 21572, 11092, 4599, 4620, 19307, 12048, 2640, 28583, 16251, 30505, 25971, 10528, 13108, 13778, 26154, 29251, 18114, 24598, -13, 25428, 21432, 9634, 23128, 31824, -2560, 6564, 3666, 29899, 22645, -734, 22822, 15785, 8233, 21939, 14299, 1772, 20499, -1942, 4580, 5036, 6726, 4047, 8566, -1567, -339, 22846, 2342, 22964, 29953, 8157, 25656, 16010, 26784, 17778, 24290, 12414, 10236, 12459, 12000, 21737, 27177, 8067, 25955, 8744, 6185, 19063, 27910, -3150, 2972, 19562, 22076, 27113, 5702, 5930, 1770, -2300, 17310, -620, 30250, 7359, 1672, 9503, 7022, 30471, 3340, 11495, 21684, 4878, 21406, 29837, 29517, -605, 2184, 12862, 8108, 23484, 25218, 9199, 17445, 12493, 7000, 6811, 7958, 5806, 11760, 16839, 27170, 31841, 909, 3556, -709, 3770, 5663, 28399, 19621, -872, 11182, 18155, 12355, 18169, 4775, 11760, 11403, 12428, 12245, 16068, 16650, 12769, 29916, 10834, 27144, 9970, 6102, -946, 31342, 18267, 1251, 5629, -1524, 12070, -2684, -1372, 7735, 23453, 25407, 1048, -2008, 6788, 15487, -2199, 12142, 20651, -2058, 9016, 18820, 3369, 4707, 18082, 295, 1912, 11752, 21914, 3074, -1002, 10981, 8363, -2239, 22864, 17231, 18076, 23220, 21941, 21877, -1466, 14281, 24282, 6258, 24647, 11978, 6488, 4810, 26729, 1111, 21078, 30428, 18015, 21566, 26377, 4980, 8214, 12746, 18667, 8996, 14071, 844, 8442, -2696, 20167, 31028, 31689, 9035, 2744, 10351, -906, 11490, 15919, 5399, 14512, 22967, -1566, 105, 29525, 2664, 24272, 16347, 15248, -523, 31334, 23673, 4931, 7575, 16122, 19289, 17346, 932, 28552, 14985, 7488, 29763, 31580, 8278, 5981, 30822, 18025, 13364, 7951, 14787, 27773, 6578, 4528, 5074, 28587, 23873, 27355, 31938, 10344, -292, -1342, 24570, 9609, 3518, 20484, 21207, 7130, 15151, 13999, 16361, 22897, 27639, -2066, 22669, 8760, 3482, 2424, 2551, 4167, 26542, 24848, 7171, 31669, 26182, 5660, 11325, 13895, 10995, 8513, 4726, 8431, 1184, 15684, 29020, 13624, 20072, 15926, -2970, 3063, 4266, 11070, 19927, 10250, 28427, 22685, 24941, 1939, 8365, 18724, 252, 21367, 30188, 11321, 19068, 24477, 27648, 28361, 15557, 17271, 29602, 14996, 23574, 18498, 27203, -2813, 23931, -620, 6000, 13494, 12118, 16393, 28188, 22374, 27829, 3108, -1983, 7635, 10096, 21821, 28995, 26414, -699, 12575, 24885, 22867, 2359, -2667, 8564, 23363, 12480, -1849, 10290, 26127, -1169, 10192, 31213, 30429, 2293, 16833, 16926, 7228, 27589, 1515, 20158, -1634, -1904, 22185, 23682, 22122, 311, -1125, 1863, 8561, 21095, 14681, 22390, 7472, 24737, 27138, 13459, 7140, 10834, 21230, 15997, 2669, -680, 29513, 26644, 23886, 5338, 15225, 31242, 31054, 18134, 8472, 19343, 21464, -230, 28479, 15910, 12288, 11340, 717, 19207, 7626, 7189, 30464, 3218, 21683, 20983, 25566, 15773, 20792, 26546, 28713, 9889, 588, 26976, 28269, 4218, 15789, 24261, 28558, 5219, 9112, 4982, 20290, 11543, 18762, -3140, 12664, 6827, 6362, 5829, 29211, 12808, 23558, 24063, 3855, 25315, 4151, 15794, 27406, 14696, 24540, 29432, 20275, 29554, 13245, 17615, 28742, 18728, 31082, 11821, -3104, 30918, 5869, 594, 4247, 4619, -2688, -670, 9282, 30199, 16677, 4280, 30925, 17166, 12225, 2045, 13396, 1973, 11201, 6046, 31849, 23294, 18614, 20203, 17323, 18842, 13379, 13614, 8163, 1726, 7913, -2518, 5449, 7075, 29312, 700, 21254, 26768, 3345, 6130, 23182, 2686, -2755, 16755, -1547, 31740, 6246, -408, 19475, 1437, -1140, 4915, 10737, 11326, 3474, 28681, 19849, 24120, 30023, 15232, 12067, -2908, 19888, 16716, 22449, 16226, 25044, 2886, 2522, -36, 25915, 29307, 2644, 29931, 30916, 6213, 23131, 25372, 29253, 29481, 22881, 27815, 23433, 29332, 29787, 7435, 31758, 31701, 29913, 29992, 21370, 7486, 23735, 2404, 17472, 21443, 22462, 19454, 28863, 31713, 19395, 6059, 29379, 21652, 21542, 18551, 11404, 9516, 25965, 5313, 11873, 20546, -3061, 10157, 19937, 17330, 26978, 16117, 16060, 11044, 7371, 29258, -2866, 12412, 10443, 19813, 29995, -3126, 3574, 14796, -1384, 16092, 31261, 6887, 22652, 22317, 20455, 11935, 28392, 19151, -2652, 29297, 8818, 5328, 26049, -664, 17354, 6132, 26062, 20483, 4762, 27972, 7133, 1727, 26446, 14106, 8705, 21400, 28997, 21646, 24405, 25130, 18780, 2136, 4276, 7822, 1952, 24904, 6122, 15949, 5248, 12785, 18938, 25490, 11702, 312, 29824, 23549, 6390, 13007, 19526, 28665, 27239, 18075, 23417, 2506, 25049, 2087, 25798, 676, 19299, 9527, 18691, 14975, 20410, 24193, 1053, 5777, 7433, 31735, 11920, -879, 10700, 23678, 26497, 29343, 3809, 8403, -1390, 861, -1877, 850, 12125, 23079, 1376, -757, 7682, 22860, 26187, 17920, 30965, 4626, 971, -2991, 1916, 18882, 17932, 15306, 23213, 2961, 3938, 18936, 3349, 12492, 10849, -1135, -1776, 31368, 8136, 14183, 16939, 12549, 4477, 13034, 5925, 12580, 14457, 6391, 26000, 17013, -2862, 3457, 21708, 29997, 26545, 11948, 13859, 5034, 28178, 7140, 4706, 4855, 10204, 19672, 12185, 280, 27620, -2465, -2225, 12304, 24301, 10317, 3952, 9283, -2894, 11178, 12881, 9955, 14218, 27075, 21039, 12890, 19848, 20136, 12372, 22779, 20937, 25738, 26354, 6995, 4638, -1228, 25068, 12131, 1842, 4770, 31703, 16725, -2958, 27947, 7198, 12889, 1199, 10799, -2305, 19336, 25925, 23151, -2053, -2819, 3601, 23481, 14272, 14410, 14447, 28565, -1845, -326, 23465, 20984, 2954, 25660, 17878, 7324, 15144, 7603, 1440, 5470, 29725, 5128, 4146, 28315, 19231, 16414, 6872, 28189, 21264, 15471, 10297, 2533, 31551, 28285, -1857, 14038, 21014, -1693, 22810, 15070, 10990, 16943, 7834, 7599, 484, 30017, 19797, 2833, 10355, 31311, 8941, 29743, 8900, 1112, 3740, 20042, 18158, 28268, 28802, 17932, 25907, 13936, 25927, 22081, 5073, 15366, 27365, 31159, -1691, 6205, 9115, 18623, 26930, 192, 20232, 19239, -2452, 14841, 15470, 1264, 22562, 17188, 20132, 16566, 3034, 16049, 7900, -2105, 19509, 12330, 11552, 22708, 9450, 29047, 30221, 9966, 6921, 6516, 3832, 21052, 1367, 4760, 23654, 565, 12896, 24870, 28965, 3763, -382, 17869, 17277, 2067, 20306, 4712, 14451, 14085, 2968, 9550, -2999, 4498, 8929, 19439, 8150, 13710, -1625, 30518, 2972, 81, 18235, 19704, -2707, -2392, -2848, 17163, 7312, 30880, 5293, 25587, 28509, 3858, 1116, 16123, 4388, 9664, 5619, 11167, 31656, 21181, 1704, 25814, 16907, 1638, 29804, 15448, 21935, 11603, 4424, 30232, 22949, 7795, 20770, 8552, -1090, -1880, 21280, 15506, 26057, 13624, 17637, 4863, 12731, 20179, 29428, 7981, 6866, 12661, -1271, -313, 4010, 29488, 5269, 27408, 2357, -802, -1824, 7753, -1237, 20690, 260, 29975, 31049, 6240, 19100, 27177, 8505, 1373, 5276, 5588, -1666, 23458, 19786, 21904, 13955, 21057, -2361, 10133, 17302, 1154, -723, 24515, 13037, 24511, 16329, 17041, 23283, 8623, 8702, 2739, 13889, 11331, 29086, -1469, 11438, -2829, 15680, 12723, 31700, 1887, 21884, 7953, 3174, 20466, 13346, 13192, 9405, 24189, 12496, 18095, 17895, 19727, -352, 15090, 7567, 25794, 7406, 3656, 22397, 25076, 29010, 15699, -1816, 21338, 10658, 10375, 20804, 15741, 21549, 6883, 25146, 9251, 29031, 17706, 14105, 17248, 22831, 17692, 2071, 16451, 16512, 20956, 30242, 15755, 19245, 13897, 14539, 28248, -3126, 6025, 3071, 16794, 23637, 16081, 29957, 15701, 19286, -2768, 16746, 3706, 20415, 19010, 25671, 25284, 13220, 15917, 20006, 12518, 5764, 24465, 18656, 8444, 18500, 19991, 25030, 16729, 2281, 2948, 31275, -2112, 11159, 5982, 8096, 4962, -1860, 14648, 19272, 16795, 31841, 19566, 15457, 20282, 3926, 1799, 4865, 21845, 6190, 20807, 20776, 29963, 19793, -282, 21820, 30190, 2894, 30854, -716, 9041, 25432, 27793, 7151, 29531, 22544, 3154, 5618, 16636, 20704, 16458, 4908, 2522, 22855, 5759, -60, -239, 9238, 7286, -2620, -3143, 5555, 9696, 18814, 10944, 25799, 13306, -1421, 5647, 9876, 14532, 2616, 22936, 8230, 15715, 4205, -1493, 22647, 27458, 21332, 20653, 26926, 14894, 9529, 4806, 8840, 22260, 28598, 22790, 7304, 29373, 29506, 19190, 15195, 10003, 1169, 25931, 6298, 31872, -2634, 3222, 20878, 23134, -351, 20467, -2418, 25592, 22427, 30170, 23993, -1345, 2018, 21198, 29355, 23026, 5978, 27587, 17230, 16322, 2490, 14059, -1431, 5083, 20015, 347, 20086, 671, 25922, 2721, 30675, 17610, -988, 26053, 28245, 1712, -60, 22179};
    volatile char result;

    if (alt_timestamp_start() < 0)
            {
              printf ("No timestamp device is available.\n");
            }

    alt_icache_flush_all();
    alt_dcache_flush_all();
    alt_u32 checksum_start_time = alt_timestamp();


    for (int i=0; i < 4500; i++){
        result = ima_adpcm_encode(&state, x[i]);
    }

    alt_u32 checksum_end_time = alt_timestamp();
    alt_u32 i = checksum_end_time - checksum_start_time;

    printf("%ld\n", i);


    HAL_PLATFORM_RESET();
}

